<!-- <p>your-orders works!</p> -->
<div class="text-center"><h1 class="text-info">Welcome&nbsp;{{userDetails.firstName | uppercase}}</h1></div>

<h3 class="text-center mb-4">Delivery Address</h3>
<div class="col-md-3 m-auto bg-primary p-3 text-white text-center" style="border-radius: 20px;"><pre class="text-white" style="font-size: larger;">{{userDetails.address}}&nbsp;<br>{{userDetails.pinCode}}</pre></div>
<h3 class="text-center mt-4">Recent Purchase</h3>

<div [hidden]="purchaseFlag">
  <h3 class="text-info text-center"  style="padding-top: 50px;padding-bottom: 50px;">All Purchase Items Delivered</h3>
</div>

<!-- product list starts -->
<div class="site-section"  *ngIf="purchaseFlag">
    <div class="container">
      <div class="row mb-5">
        <form class="col-md-12" method="post">
          <div class="site-blocks-table">
            <table class="table table-bordered">
              <thead>
                <tr>
                  <th class="product-thumbnail">Image</th>
                  <th class="product-name">Product</th>
                  <th class="product-price">Price</th>
                  <th class="product-quantity">Quantity</th>
                  <th class="product-total">Total</th>
                </tr>
              </thead>



              <tbody>
                <tr *ngFor="let purchaseItem of purchaseItems;let index = index;">
                  <td class="product-thumbnail">
                    <img src="{{purchaseItem.imgUrl}}" alt="Image" class="img-fluid" [style.width.px]='imageWidth' [style.height.px]='imageHeight'>
                  </td>
                  <td class="product-name">
                    <h2 class="h5 text-black">{{purchaseItem.medicineName}}</h2>
                  </td>
                  <td>{{purchaseItem.price}} &nbsp;per &nbsp;{{purchaseItem.pricePerQuantity}}</td>
                  <td>
                    <div class="input-group mb-3 m-auto" style="max-width: 120px;">
                      <div class="input-group-prepend">
                        <!-- <button class="btn btn-outline-primary js-btn-minus" type="button">&minus;</button> -->
                      </div>
                    <input type="number" class="form-control text-center"  (change)='purchaseItem.value=$event.target.value' [value]="purchaseItem.value"  
                        aria-label="Example text with button addon" aria-describedby="button-addon1" >
                        
                      <div class="input-group-append">
                        <!-- <button class="btn btn-outline-primary js-btn-plus" type="button">+</button> -->
                        
                      </div>
                    </div>
  
                  </td>
                  <td>{{purchaseItem.total}}</td>
                  <!-- <td><a  class="btn btn-primary height-auto btn-sm" >X</a></td> -->
                </tr>
  
                <!-- <tr>
                  <td class="product-thumbnail">
                    <img src="assets/images/product_01.png" alt="Image" class="img-fluid">
                  </td>
                  <td class="product-name">
                    <h2 class="h5 text-black">Bioderma</h2>
                  </td>
                  <td>$49.00</td>
                  <td>
                    <div class="input-group mb-3" style="max-width: 120px;">
                      <div class="input-group-prepend">
                        <button class="btn btn-outline-primary js-btn-minus" type="button">&minus;</button>
                      </div>
                      <input type="text" class="form-control text-center" value="1" placeholder=""
                        aria-label="Example text with button addon" aria-describedby="button-addon1">
                      <div class="input-group-append">
                        <button class="btn btn-outline-primary js-btn-plus" type="button">+</button>
                      </div>
                    </div>
  
                  </td>
                  <td>$49.00</td>
                  <td><a href="#" class="btn btn-primary height-auto btn-sm">X</a></td>
                </tr> -->
              </tbody>
            </table>
          </div>
        </form>
      </div>
      
      <!-- <div>
        <h3 class="text-info text-center"  style="padding-top: 100px;padding-bottom: 100px;">No Items in the cart</h3>
      </div> -->

      <div class="row">
        <div class="col-md-6">
          <div class="row mb-5">
            <div class="col-md-6 mb-3 mb-md-0">
              <button class="btn btn-primary btn-md btn-block" (click)="updateOrder();">Update</button>
            </div>
            <div class="col-md-6 mb-3 mb-md-0">
              <button class="btn btn-danger btn-md btn-block" (click)="cancelOrder()">Cancel Order</button>
            </div>
          </div>
          <!-- <div class="row">
            <div class="col-md-12">
              <label class="text-black h4" for="coupon">Coupon</label>
              <p>Enter your coupon code if you have one.</p>
            </div>
            <div class="col-md-8 mb-3 mb-md-0">
              <input type="text" class="form-control py-3" id="coupon" placeholder="Coupon Code">
            </div>
            <div class="col-md-4">
              <button class="btn btn-primary btn-md px-4">Apply Coupon</button>
            </div>
          </div> -->
        </div>
        <div class="col-md-6 pl-5">
          <div class="row justify-content-end">
            <div class="col-md-7">
              <div class="row">
                <div class="col-md-12 text-right border-bottom mb-5 d-flex flex-row">
                  <h3 class="text-black h4 text-uppercase text-center">Total</h3> <h3 class="text-black h4 text-uppercase ml-5">{{grandTotal}}</h3>
                </div>
              </div>
              <!-- <div class="row mb-3">
                <div class="col-md-6">
                  <span class="text-black">Subtotal</span>
                </div>
                <div class="col-md-6 text-right">
                  <strong class="text-black"></strong>
                </div>
              </div> -->
              <!-- <div class="row mb-5">
                <div class="col-md-6">
                  <span class="text-black">Total</span>
                </div>
                <div class="col-md-6 text-right">
                  <div *ngFor="let purchaseItem of purchaseItems;let index = index;">
                  <input type="hidden" >
                </div>
                  <strong class="text-black">{{grandTotal}}</strong>
                </div>
              </div> -->
  
              <!-- <div class="row">
                <div class="col-md-12">
                  <button class="btn btn-primary btn-lg btn-block" >Proceed To
                    Checkout</button>
                </div>
              </div> -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- product list ends -->

  <!-- messages -->
  <div *ngIf="dispatchFlag">
  <h3 class="text-center mt-3 mb-3">Messages</h3>
  <hr>
  <div class="row" *ngFor="let item of dispatched">
    <div class="col-md-1"><img src="{{item.imgUrl}} " alt="Img" [style.width.px]='imageWidth' [style.height.px]='imageHeight'>  </div>
    <div class="col-md-2 mt-5">{{item.medicineName}}&nbsp;{{item.value}}&nbsp;Nos</div>
    <div class="col-md-4 mt-5"> {{item.feedback}} </div>
  </div>
</div>

